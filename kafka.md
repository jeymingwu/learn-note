# 深入理解 Kafka 核心设计与实践原理

## 基础篇
### 1.认识 Kafka
+  Kafka 由 LinkedIn 采用 Scala 开发的一个多分区、多副本且基于 ZooKeeper 协调的分布式消息系统；
+  Kafka 分布式流式处理平台；以高存吐、可持久性、可水平拓展、支持流数据处理等多种特性；
+  Kafka 三大角色：
    +  消息系统：具备系统解耦、冗余存储、流量削峰、缓冲、异步通信、拓展性、可恢复性等功能；还提供消息顺序性保障及回溯消费的功能；
    +  存储系统：持久化到磁盘，相对比其他基于内存存储的系统而言，有效降低数据丢失的风险；可把 Kafka 作长期数据存储系统使用，只需把对应的数据保留策略设置为“永久”或启用主题的日志压缩功能；
    +  流式处理平台：不仅为每个流行的流式处理框架提供可靠的数据来源，还提供了一个完整的流式处理类库；
    
1.1  基本概念
+  一个典型的 Kafka 体系架构包括若干 Producer 、 若干 Broker 、 若干 Consumer 以及一个 ZooKeeper 集群；
    +  ZooKeeper ： 是 Kafka 用来负责集群元数据的管理、控制器的选举等操作；
    +  Producer ： 将消息发送给 Broker；
    +  Broker ： 负责将接收到的消息存储到磁盘中；
    +  Consumer ： 负责从 Broker 订阅并消费信息；
    
    ![Kafka 体系结构](./src/main/resources/kafka/architecture.png)
    Kafka 体系结构

+  Kafka 术语：
    +  Producer ： 生产者，发送消息的一方；负责创建消息，然后将其投到 Kafka 中；
    +  Consumer ： 消费者，接收消息的一方；连接到 Kafka 上并接收消息，进而进行相应的业务逻辑处理；
    +  Broker ： 服务代理节点；可简单看作一个独立的 Kafka 服务节点 或 Kafka 服务实例；
    
    +  Topic ： 主题
        +  消息以主题为单位进行归类；
        +  生产者负责将消息发送到特定的主题（发送到 Kafka 的每条消息均需指定一个主题）；
        +  消费者负责订阅主题并进行消费；
        +  逻辑概念，可细分多个分区；
    +  Partition ： 分区（也称“主题分区”）
        +  一个分区只属于单个主题；
        +  分区在存储层面可做一个可追加的日志文件（Log）；
            +  会分配一个特定的偏移量 offset ;
            +  offset 是消息分区中唯一标识；用于保存消息在分区内的顺序性；
            +  offset 仅在分区内有效； -> Kafka 保证分区有序而不是主题有序；
    
    
1.2 123

### 2.生产者

### 3.消费者

### 4. 主题与分区

##  原理篇
### 5.日志存储

### 6.深入服务器

### 7.深入客户端

### 8.可靠性研究

##  拓展篇
### 9. Kafka应用

### 10. Kafka监控

### 11.高级应用

### 12. Kafka 与 Spark 的集成